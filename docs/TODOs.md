# TODOs (작업 목록) 및 결과 보고서

### 🚀 프로젝트 방향 전환 (Pivot)

-   **목표 변경**: 온디바이스 AI 구현의 기술적/환경적 제약으로 인해, **Gemini API를 활용한 초고속 온라인 여행 비서**로 목표를 전환.
-   **핵심 과제**: 이미지 전송 시간 최소화 및 AI 응답 체감 속도 극대화.

---

### ✅ 1단계: 온라인 속도 최적화 및 1차 테스트 (완료)

-   [x] **기술 스택 변경**: TensorFlow.js 및 관련 온디바이스 로직 제거, Gemini API (`@google/genai`) 재도입 완료.
-   [x] **이미지 최적화 구현**: API 전송 전, 클라이언트(브라우저)에서 이미지 리사이징 및 압축 기능 추가 완료. (예상 업로드 시간: 10~15초 -> **1~2초**로 단축)
-   [x] **스트리밍 응답 적용**: Gemini API의 `generateContentStream`을 사용하여 텍스트를 실시간으로 수신하도록 변경 완료.
-   [x] **실시간 TTS 연동**: 스트리밍으로 수신한 문장을 즉시 브라우저 내장 TTS(`window.speechSynthesis`)로 전송하여, **요청 후 3~5초 내에 음성 안내 시작** 기능 구현 완료.
-   [x] **오디오 제어 기능**: 재생/일시정지/재개 기능을 갖춘 UI 컨트롤 추가 완료.
-   [x] **코드 리팩토링**: 기존 온디바이스 및 사용되지 않는 React 관련 코드 전체 제거 완료.

---

### ✅ 2단계: 사용자 피드백 기반 기능 추가 및 개선 (완료)

-   [x] **음성 검색 기능 추가**: Web Speech API를 활용하여 음성으로 AI에게 질문하는 기능 구현 완료.
-   [x] **상세 화면 UI 개편**: 하단 버튼을 [오디오], [텍스트 토글], **[저장]** 3개 아이콘으로 변경 완료.
-   [x] **텍스트 가독성 강화**: 모든 텍스트에 주간 야외 환경에서도 잘 보이도록 강력한 검은색 `text-shadow` 효과 적용 완료.
-   [x] **콘텐츠 저장 및 보관함 기능 구현**:
    -   [x] **저장 기능**: 상세 화면의 '저장' 버튼 클릭 시, 현재 이미지와 해설 텍스트를 브라우저 `localStorage`에 저장하는 로직 구현 완료.
    -   [x] **보관함 UI**: 메인 화면에 '보관함' 아이콘을 추가하고, 저장된 항목들을 볼 수 있는 별도 페이지 구현 완료.
    -   [x] **모자이크 레이아웃**: 보관함 페이지에 저장된 콘텐츠를 한 줄에 3개씩 보이는 썸네일 기반의 모자이크 레이아웃으로 표시 완료.
    -   [x] **다시 보기**: 보관함의 썸네일을 클릭하면 해당 콘텐츠의 상세 페이지로 이동하여 내용을 다시 확인하고 음성으로 들을 수 있는 기능 구현 완료.
-   [x] **TTS와 텍스트 동기화**: 음성 출력(TTS) 시, 현재 재생 중인 문장을 시각적으로 강조(하이라이팅)하여 텍스트와 음성의 일치감을 높이는 기능 추가 완료.
-   [x] **모바일 권한 및 UX 최종 개선**:
    - [x] 반복적인 카메라 권한 요청 문제 해결.
    - [x] 음성 검색 결과 화면 UI(흰색 배경) 적용.
    - [x] 저장 완료 피드백 및 삭제 기능 안내 추가.

---

### 📝 3단계: 향후 개선 과제

-   [ ] **PWA(Progressive Web App) 전환**: '홈 화면에 추가' 기능을 제공하여 네이티브 앱과 같은 사용자 경험을 제공하고, 오프라인에서도 보관함에 접근할 수 있도록 개선. (특히 iOS Safari 등에서 발생하는 권한 문제를 근본적으로 해결할 수 있는 최적의 방안)
-   [ ] **다국어 지원**: 사용자 언어 설정에 따라 프롬프트와 TTS 언어를 변경하는 기능 추가.
-   [ ] **오류 처리 고도화**: 네트워크 오류, API 키 오류 등 다양한 예외 상황에 대한 사용자 안내 메시지 개선.
-   [ ] **크로스 브라우저 테스트**: 주요 모바일 브라우저(Safari on iOS, Chrome on Android)에서 TTS 및 카메라 기능의 호환성 집중 테스트.
-   [ ] **공유 기능**: 저장된 콘텐츠나 실시간 분석 결과를 다른 사람에게 공유할 수 있는 기능 추가.
